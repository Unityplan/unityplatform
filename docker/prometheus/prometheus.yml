global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    monitor: "unityplan-dev"
    environment: "development"

# Scrape configurations
scrape_configs:
  # Prometheus self-monitoring
  - job_name: "prometheus"
    static_configs:
      - targets: ["localhost:9090"]

  # ========================================
  # POD: Denmark (dk)
  # ========================================

  # PostgreSQL metrics - Denmark pod
  - job_name: "postgres-dk"
    static_configs:
      - targets: ["monitoring-postgres-exporter-dk:9187"]
        labels:
          pod: "dk"
          territory: "denmark"
          service: "postgres"

  # Redis metrics - Denmark pod
  - job_name: "redis-dk"
    static_configs:
      - targets: ["monitoring-redis-exporter-dk:9121"]
        labels:
          pod: "dk"
          territory: "denmark"
          service: "redis"

  # NATS metrics - Denmark pod
  - job_name: "nats-dk"
    static_configs:
      - targets: ["monitoring-nats-exporter-dk:7777"]
        labels:
          pod: "dk"
          territory: "denmark"
          service: "nats"

  # Node Exporter - Denmark pod host metrics
  - job_name: "node-dk"
    static_configs:
      - targets: ["monitoring-node-exporter-dk:9100"]
        labels:
          pod: "dk"
          territory: "denmark"
          service: "node"

  # cAdvisor - Denmark pod container metrics
  - job_name: "cadvisor-dk"
    static_configs:
      - targets: ["monitoring-cadvisor-dk:8080"]
        labels:
          pod: "dk"
          territory: "denmark"
          service: "cadvisor"

  # ========================================
  # POD: Norway (no) - Add when deployed
  # ========================================

  # - job_name: "postgres-no"
  #   static_configs:
  #     - targets: ["monitoring-postgres-exporter-no:9188"]
  #       labels:
  #         pod: "no"
  #         territory: "norway"
  #         service: "postgres"

  # - job_name: "redis-no"
  #   static_configs:
  #     - targets: ["monitoring-redis-exporter-no:9122"]
  #       labels:
  #         pod: "no"
  #         territory: "norway"
  #         service: "redis"

  # - job_name: "nats-no"
  #   static_configs:
  #     - targets: ["monitoring-nats-exporter-no:7778"]
  #       labels:
  #         pod: "no"
  #         territory: "norway"
  #         service: "nats"

  # ========================================
  # POD: Sweden (se) - Add when deployed
  # ========================================

  # - job_name: "postgres-se"
  #   static_configs:
  #     - targets: ["monitoring-postgres-exporter-se:9189"]
  #       labels:
  #         pod: "se"
  #         territory: "sweden"
  #         service: "postgres"

  # ========================================
  # Application Services (Rust Microservices)
  # ========================================
  # Each service runs per-pod and exposes /metrics endpoint
  # Uncomment as services are deployed

  # API Gateway - Denmark
  # - job_name: 'api-gateway-dk'
  #   static_configs:
  #     - targets: ['api-gateway-dk:8000']
  #       labels:
  #         pod: "dk"
  #         territory: "denmark"
  #         service: "api-gateway"

  # Auth Service - Denmark
  # - job_name: 'auth-service-dk'
  #   static_configs:
  #     - targets: ['auth-service-dk:8001']
  #       labels:
  #         pod: "dk"
  #         territory: "denmark"
  #         service: "auth"

  # User Service - Denmark
  # - job_name: 'user-service-dk'
  #   static_configs:
  #     - targets: ['user-service-dk:8002']
  #       labels:
  #         pod: "dk"
  #         territory: "denmark"
  #         service: "user"

  # Community Service - Denmark
  # - job_name: 'community-service-dk'
  #   static_configs:
  #     - targets: ['community-service-dk:8003']
  #       labels:
  #         pod: "dk"
  #         territory: "denmark"
  #         service: "community"

  # Event Service - Denmark
  # - job_name: 'event-service-dk'
  #   static_configs:
  #     - targets: ['event-service-dk:8004']
  #       labels:
  #         pod: "dk"
  #         territory: "denmark"
  #         service: "event"

  # WebSocket Gateway - Denmark
  # - job_name: 'websocket-gateway-dk'
  #   static_configs:
  #     - targets: ['websocket-gateway-dk:8005']
  #       labels:
  #         pod: "dk"
  #         territory: "denmark"
  #         service: "websocket"
